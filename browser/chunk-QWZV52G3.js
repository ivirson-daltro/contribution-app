import{a as kt}from"./chunk-3QZXM3DZ.js";import{a as St,b as It}from"./chunk-2XGJICP7.js";import{a as ot,b as Pt,c as wt,d as rt,e as at,f as lt,g as V}from"./chunk-L6BUXOCN.js";import{b as R,c as v,d as B,e as J,f as Mt,g as K,h as Q,i as X,j as Y,k as Z,l as tt,m as et,n as xt,o as nt}from"./chunk-PZJSAPWP.js";import"./chunk-U462Y6UM.js";import{a as Ot}from"./chunk-CQQI7VCG.js";import{a as Tt,b as Et}from"./chunk-V6GMYO7R.js";import{a as A,b as $}from"./chunk-WI34YPH7.js";import{E as it}from"./chunk-4QMG3DVJ.js";import{Ab as gt,Bb as Ct,D as b,Ea as O,O as ut,Ob as H,Pa as x,Pb as _t,Qa as S,Qb as ht,Ra as I,Rb as yt,Sa as bt,T as f,Ta as C,Ua as _,Va as s,Vb as mt,Wa as o,Wb as vt,X as T,Xa as i,Y as E,Ya as p,ab as U,ac as y,cb as d,db as u,lb as q,nb as a,ob as g,pb as w,qb as k,rb as D,sb as N,ua as c,ub as F,xb as ft,yb as h,za as z,zb as P}from"./chunk-X2WIBWUX.js";import{a as dt,b as pt}from"./chunk-2NFLSA4Y.js";var W=class r{httpClient=f(vt);getMembers(){return this.httpClient.get(`${y.apiUrl}/members`)}getContributionTypes(){return this.httpClient.get(`${y.apiUrl}/domain/contribution-types`)}getPaymentMethods(){return this.httpClient.get(`${y.apiUrl}/domain/payment-methods`)}getContributions(e,t,n,l=1,m=10,L,j="desc"){let M=new mt().set("page",l.toString()).set("limit",m.toString());return L&&(M=M.set("sortBy",L).set("sortDirection",j)),e&&(M=M.set("memberId",e)),t&&(M=M.set("contributionTypeId",t)),n&&(M=M.set("paymentMethodId",n)),this.httpClient.get(`${y.apiUrl}/contributions`,{params:M})}saveContribution(e){return this.httpClient.post(`${y.apiUrl}/contributions`,e)}getContributionById(e){return this.httpClient.get(`${y.apiUrl}/contributions/${e}`)}updateContribution(e,t){return this.httpClient.put(`${y.apiUrl}/contributions/${e}`,t)}deleteContribution(e){return this.httpClient.delete(`${y.apiUrl}/contributions/${e}`)}getWeeklyReport(e,t){let n=new mt().set("startDate",e).set("endDate",t);return this.httpClient.get(`${y.apiUrl}/contributions/weekly/report`,{params:n,responseType:"blob"})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=ut({token:r,factory:r.\u0275fac,providedIn:"root"})};function At(r,e){if(r&1&&(o(0,"option",8),a(1),i()),r&2){let t=e.$implicit;s("value",t.id),c(),g(t.name)}}function $t(r,e){if(r&1&&(o(0,"option",8),a(1),i()),r&2){let t=e.$implicit;s("value",t.id),c(),g(t.description)}}function Vt(r,e){if(r&1&&(o(0,"option",8),a(1),i()),r&2){let t=e.$implicit;s("value",t.id),c(),g(t.type)}}var G=class r{constructor(e,t,n){this.fb=e;this.dialogRef=t;this.data=n}contributionsService=f(W);form;members$=this.contributionsService.getMembers();contributionTypes$=this.contributionsService.getContributionTypes();paymentMethods$=this.contributionsService.getPaymentMethods();contributionTypesCache=[];ngOnInit(){this.buildForm(),this.loadContributionTypes(),this.setupMemberValidation(),this.data&&Promise.all([this.members$.pipe(b()).toPromise(),this.contributionTypes$.pipe(b()).toPromise(),this.paymentMethods$.pipe(b()).toPromise()]).then(()=>{this.form.patchValue({memberId:this.data.memberId??"",contributionTypeId:this.data.contributionTypeId??"",paymentMethodId:this.data.paymentMethodId??"",amount:this.data.amount??"",date:this.data.date?this.data.date.substring(0,10):"",observation:this.data.observation??""}),this.formatAmount()})}buildForm(){this.form=this.fb.group({memberId:["",v.required],contributionTypeId:["",v.required],paymentMethodId:["",v.required],amount:["",[v.required]],date:["",v.required],observation:[""]})}submit(){this.saveContribution()}saveContribution(){let e=this.form.getRawValue(),t=this.parseAmount(e.amount),n=pt(dt({},e),{amount:t});this.data&&this.data.id?this.contributionsService.updateContribution(this.data.id,n).pipe(b()).subscribe({next:()=>{this.dialogRef.close(!0)},error:l=>{console.error("Error updating contribution:",l)}}):this.contributionsService.saveContribution(n).pipe(b()).subscribe({next:()=>{this.dialogRef.close(!0)},error:l=>{console.error("Error saving contribution:",l)}})}formatAmount(){let e=this.form.get("amount");if(!e)return;let t=this.formatCurrency(e.value);t&&e.setValue(t,{emitEvent:!1})}parseAmount(e){let t=this.toNumber(e);return Number.isNaN(t)?0:t}formatCurrency(e){let t=this.toNumber(e);return Number.isNaN(t)?"":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}loadContributionTypes(){this.contributionTypes$.pipe(b()).subscribe(e=>{this.contributionTypesCache=e??[]})}setupMemberValidation(){let e=this.form.get("memberId"),t=this.form.get("contributionTypeId");!e||!t||t.valueChanges.subscribe(n=>{this.isOfertaType(n)?e.clearValidators():e.setValidators([v.required]),e.updateValueAndValidity()})}isOfertaType(e){if(!e)return!1;let t=this.contributionTypesCache.find(n=>n.id===e);return!!t&&t.description?.toLowerCase()==="oferta"}toNumber(e){if(e==null)return NaN;let t=String(e).trim();if(!t)return NaN;if(t=t.replace(/R\$/g,"").replace(/\s/g,""),t.includes(","))return t=t.replace(/\./g,"").replace(",","."),Number(t);let n=t.replace(/\D/g,"");if(!n)return NaN;if(n.length<=2)return Number(n);let l=n.slice(0,n.length-2),m=n.slice(-2);return+`${l}.${m}`}close(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||r)(z(et),z(ot),z(Pt))};static \u0275cmp=O({type:r,selectors:[["app-add-contributions"]],decls:55,vars:10,consts:[[1,"cadastrar-container"],[1,"cadastrar-card"],["mat-dialog-title","",1,"card-title"],[1,"contribution-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","memberId",1,"form-label"],["formControlName","memberId",1,"form-control"],["value","","disabled","","selected",""],[3,"value"],[1,"row"],[1,"col-lg-6"],["for","contributionTypeId",1,"form-label"],["formControlName","contributionTypeId",1,"form-control"],["for","paymentMethodId",1,"form-label"],["formControlName","paymentMethodId",1,"form-control"],["for","amount",1,"form-label"],["type","text","formControlName","amount","placeholder","R$ 0,00",1,"form-control",3,"blur"],["for","date",1,"form-label"],["type","date","formControlName","date","placeholder","Digite a data",1,"form-control"],["for","observation",1,"form-label"],["formControlName","observation",1,"form-control"],["align","end",1,"form-footer"],["type","button",1,"btn","cancel-button",3,"click"],["type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],["fontIcon","save",1,"submit-icon"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3),i(),o(4,"form",3),d("ngSubmit",function(){return n.submit()}),o(5,"mat-dialog-content")(6,"div",4)(7,"label",5),a(8,"Membro"),i(),o(9,"select",6)(10,"option",7),a(11,"- Selecione"),i(),C(12,At,2,2,"option",8,I),h(14,"async"),i()(),o(15,"div",4)(16,"div",9)(17,"div",10)(18,"label",11),a(19,"Tipo de Contribui\xE7\xE3o"),i(),o(20,"select",12)(21,"option",7),a(22,"- Selecione"),i(),C(23,$t,2,2,"option",8,I),h(25,"async"),i()(),o(26,"div",10)(27,"label",13),a(28,"Forma de Pagamento"),i(),o(29,"select",14)(30,"option",7),a(31,"- Selecione"),i(),C(32,Vt,2,2,"option",8,I),h(34,"async"),i()()()(),o(35,"div",4)(36,"div",9)(37,"div",10)(38,"label",15),a(39,"Valor"),i(),o(40,"input",16),d("blur",function(){return n.formatAmount()}),i()(),o(41,"div",10)(42,"label",17),a(43,"Data"),i(),p(44,"input",18),i()()(),o(45,"div",4)(46,"label",19),a(47,"Observa\xE7\xF5es"),i(),p(48,"textarea",20),i()(),o(49,"mat-dialog-actions",21)(50,"button",22),d("click",function(){return n.close()}),a(51,"Cancelar"),i(),o(52,"button",23),p(53,"mat-icon",24),a(54),i()()()()()),t&2&&(c(3),w("",n.data?"Editar":"Nova"," Contribui\xE7\xE3o"),c(),s("formGroup",n.form),c(8),_(P(14,4,n.members$)),c(11),_(P(25,6,n.contributionTypes$)),c(9),_(P(34,8,n.paymentMethods$)),c(20),s("disabled",n.form.invalid),c(2),w(" ",n.data?"Editar":"Registrar"," Contribui\xE7\xE3o "))},dependencies:[nt,K,Z,tt,R,Y,B,J,X,Q,V,rt,lt,at,$,A,H],styles:[".cadastrar-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.25rem;font-weight:700;color:#0b2454}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]{padding-top:.25rem}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:600;margin-bottom:.35rem;color:#374151}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#f7f9fc;border-radius:.75rem}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#d1d5db}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#1d4ed8}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e5e7eb;display:flex;gap:1rem;align-items:center}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;height:3rem;border-radius:.625rem;background-color:#0b2454;font-weight:600}@media(max-width:600px){.cadastrar-card[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1.75rem}}"]})};var ct=class r{dialogRef=f(ot);fb=f(et);form=this.fb.group({startDate:["",v.required],endDate:["",v.required]});close(){this.dialogRef.close()}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.dialogRef.close(this.form.value)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-weekly-report-dialog"]],decls:18,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"weekly-report-form",3,"formGroup"],[1,"mb-3"],["for","startDate",1,"form-label"],["id","startDate","type","date","formControlName","startDate",1,"form-control"],["for","endDate",1,"form-label"],["id","endDate","type","date","formControlName","endDate",1,"form-control"],["mat-dialog-actions","",1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-primary","submit-button",3,"click","disabled"],["fontIcon","download",1,"submit-icon"],["type","button",1,"btn","cancel-button",3,"click"]],template:function(t,n){t&1&&(o(0,"h2",0),a(1,"Relat\xF3rio semanal"),i(),o(2,"div",1)(3,"form",2)(4,"div",3)(5,"label",4),a(6,"Data inicial"),i(),p(7,"input",5),i(),o(8,"div",3)(9,"label",6),a(10,"Data final"),i(),p(11,"input",7),i()()(),o(12,"div",8)(13,"button",9),d("click",function(){return n.submit()}),p(14,"mat-icon",10),a(15," Gerar PDF "),i(),o(16,"button",11),d("click",function(){return n.close()}),a(17,"Cancelar"),i()()),t&2&&(c(3),s("formGroup",n.form),c(10),s("disabled",n.form.invalid))},dependencies:[yt,nt,K,R,B,J,X,Q,V,rt,lt,at,it,$,A],styles:[".weekly-report-form[_ngcontent-%COMP%]{min-width:260px}.weekly-report-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;height:2.5rem;margin-top:1.75rem}.submit-button[_ngcontent-%COMP%]{border-radius:.625rem;background-color:#0b2454;font-weight:600}.cancel-button[_ngcontent-%COMP%]{color:#6b7280}"]})};var Wt=r=>[r,"BRL","symbol","1.2-2","pt-BR"],Lt=(r,e)=>e.id;function jt(r,e){if(r&1&&(o(0,"option",17),a(1),i()),r&2){let t=e.$implicit;s("value",t.id),c(),g(t.name)}}function Gt(r,e){if(r&1&&(o(0,"option",17),a(1),i()),r&2){let t=e.$implicit;s("value",t.id),c(),g(t.description)}}function zt(r,e){if(r&1&&(o(0,"option",17),a(1),i()),r&2){let t=e.$implicit;s("value",t.id),c(),g(t.type)}}function Ut(r,e){if(r&1&&p(0,"mat-icon",37),r&2){let t=u();s("fontIcon",F(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function qt(r,e){if(r&1&&p(0,"mat-icon",37),r&2){let t=u();s("fontIcon",F(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function Ht(r,e){if(r&1&&p(0,"mat-icon",37),r&2){let t=u();s("fontIcon",F(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function Jt(r,e){if(r&1&&p(0,"mat-icon",37),r&2){let t=u();s("fontIcon",F(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function Kt(r,e){if(r&1&&p(0,"mat-icon",37),r&2){let t=u();s("fontIcon",F(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function Qt(r,e){r&1&&(o(0,"tr")(1,"td",40),a(2," Nenhuma contribui\xE7\xE3o encontrada. "),i()())}function Xt(r,e){if(r&1){let t=U();o(0,"tr")(1,"td"),a(2),h(3,"date"),i(),o(4,"td"),a(5),i(),o(6,"td"),a(7),i(),o(8,"td"),a(9),i(),o(10,"td"),a(11),h(12,"currency"),i(),o(13,"td",38)(14,"button",41),d("click",function(){let l=T(t).$implicit,m=u(2);return E(m.editContribution(l.id))}),p(15,"mat-icon",42),i(),o(16,"button",43),d("click",function(){let l=T(t).$implicit,m=u(2);return E(m.deleteContribution(l.id))}),p(17,"mat-icon",44),i()()()}if(r&2){let t=e.$implicit,n=u(2);c(2),g(gt(3,5,t.date,"shortDate","pt-BR")),c(3),g((t.member==null?null:t.member.name)??"-"),c(2),g(t.contributionType.description),c(2),g(t.paymentMethod.type),c(2),w(" ",Ct(12,9,ft(15,Wt,n.normalizeAmount(t.amount)))," ")}}function Yt(r,e){if(r&1&&C(0,Xt,18,17,"tr",null,Lt),r&2){let t=u();_(t.contributions)}}function Zt(r,e){if(r&1){let t=U();o(0,"li",47)(1,"button",50),d("click",function(){let l=T(t).$implicit,m=u(2);return E(m.goToPage(l))}),a(2),i()()}if(r&2){let t=e.$implicit,n=u(2);q("active",n.pageIndex===t),c(2),w(" ",t+1," ")}}function te(r,e){if(r&1){let t=U();o(0,"nav",39)(1,"ul",45)(2,"li",46)(3,"strong"),a(4,"Total de contribui\xE7\xF5es:"),i(),a(5),i(),o(6,"li",47)(7,"button",48),d("click",function(){T(t);let l=u();return E(l.goToPage(l.pageIndex-1))}),a(8," Anterior "),i()(),C(9,Zt,3,3,"li",49,bt),o(11,"li",47)(12,"button",48),d("click",function(){T(t);let l=u();return E(l.goToPage(l.pageIndex+1))}),a(13," Pr\xF3xima "),i()()()()}if(r&2){let t=u();c(5),w(" ",t.totalContributions),c(),q("disabled",t.pageIndex===0),c(),s("disabled",t.pageIndex===0),c(2),_(t.pages),c(2),q("disabled",t.pageIndex>=t.totalPages-1),c(),s("disabled",t.pageIndex>=t.totalPages-1)}}var Rt=class r{dashboardService=f(Ot);contributionsService=f(W);dialog=f(wt);toastService=f(It);form;members$=this.contributionsService.getMembers();contributionTypes$=this.contributionsService.getContributionTypes();paymentMethods$=this.contributionsService.getPaymentMethods();contributions=[];totalContributions=0;pageIndex=0;pageSize=10;sortBy="date";sortDirection="desc";memberId=null;contributionTypeId=null;paymentMethodId=null;startDate=null;endDate=null;ngOnInit(){this.getContributionList()}openNewContribution(){this.dialog.open(G,{width:"720px",maxWidth:"95vw",autoFocus:!1}).afterClosed().subscribe(t=>{t&&this.getContributionList()})}getContributionList(e=this.pageIndex,t=this.pageSize){let n=e+1;this.contributionsService.getContributions(this.memberId,this.contributionTypeId,this.paymentMethodId,n,t,this.sortBy,this.sortDirection).pipe(b()).subscribe(l=>{if(!l){this.contributions=[],this.totalContributions=0;return}this.contributions=l.data??[],this.totalContributions=l.total??0,this.pageIndex=(l.page??n)-1,this.pageSize=l.limit??t})}get totalPages(){return this.pageSize>0?Math.ceil(this.totalContributions/this.pageSize):0}get pages(){return Array.from({length:this.totalPages},(e,t)=>t)}goToPage(e){e<0||e>=this.totalPages||e===this.pageIndex||(this.pageIndex=e,this.getContributionList(this.pageIndex,this.pageSize))}changeSort(e){this.sortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortBy=e,this.sortDirection="asc"),this.pageIndex=0,this.getContributionList(0,this.pageSize)}limpar(){this.memberId=null,this.contributionTypeId=null,this.paymentMethodId=null,this.getContributionList(0,this.pageSize)}normalizeAmount(e){if(e==null)return 0;let t=String(e).trim();if(!t)return 0;t=t.replace(/R\$/g,"").replace(/\s/g,""),t.includes(",")&&(t=t.replace(/\./g,"").replace(",","."));let n=Number(t);return Number.isNaN(n)?0:n}getWeeklyReport(){this.dialog.open(ct,{width:"400px",autoFocus:!1}).afterClosed().pipe(b()).subscribe(t=>{if(!t)return;let{startDate:n,endDate:l}=t;if(!n||!l){this.toastService.warning("Informe a data inicial e final para o relat\xF3rio.");return}this.contributionsService.getWeeklyReport(n,l).pipe(b()).subscribe({next:m=>{let L=window.URL.createObjectURL(m),j=document.createElement("a");j.href=L,j.download=`relatorio-semanal-${n}-a-${l}.pdf`,j.click(),window.URL.revokeObjectURL(L)},error:()=>{this.toastService.error("Erro ao gerar relat\xF3rio semanal.")}})})}editContribution(e){this.contributionsService.getContributionById(e).pipe(b()).subscribe({next:t=>{this.dialog.open(G,{width:"720px",maxWidth:"95vw",autoFocus:!1,data:t}).afterClosed().subscribe(l=>{l&&this.getContributionList()})},error:()=>{this.toastService.error("Erro ao buscar dados da contribui\xE7\xE3o.")}})}deleteContribution(e){this.dialog.open(kt,{width:"400px",data:{title:"Excluir Contribui\xE7\xE3o",subtitle:"Tem certeza que deseja excluir esta contribui\xE7\xE3o?",confirmLabel:"Excluir",cancelLabel:"Cancelar"}}).afterClosed().subscribe(n=>{n&&this.onDeleteContribution(e)})}onDeleteContribution(e){this.contributionsService.deleteContribution(e).pipe(b()).subscribe({next:()=>{this.toastService.success("Contribui\xE7\xE3o exclu\xEDda com sucesso."),this.getContributionList()},error:()=>{this.toastService.error("Erro ao excluir a contribui\xE7\xE3o. Tente novamente mais tarde.")}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=O({type:r,selectors:[["app-contributions"]],decls:93,vars:21,consts:[[1,"contributions","container-fluid","py-4"],[1,"row","align-items-center","mb-4"],[1,"col-12","col-lg"],[1,"h4","mb-1","fw-semibold"],[1,"text-muted","small","mb-0"],[1,"col-12","col-lg-auto"],["type","button",1,"btn","btn-primary","submit-button",3,"click"],["fontIcon","add",1,"submit-icon"],[1,"col-12","mb-4"],[1,"panel","h-100"],[1,"panel-title","mb-3","d-flex","align-items-center"],["fontIcon","filter_alt",1,"me-2"],[1,"row","mb-2"],[1,"col-12","col-lg","mb-3"],["for","memberId",1,"form-label"],[1,"form-control",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value"],["for","contributionTypeId",1,"form-label"],["for","paymentMethodId",1,"form-label"],["for","startDate",1,"form-label"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label"],[1,"row","justify-content-between"],[1,"col-12","col-lg-4"],["type","button",1,"btn","btn-primary","submit-button","btn-print",3,"click"],["fontIcon","print",1,"submit-icon"],[1,"col-12","col-lg-4","text-end"],["type","button",1,"btn","cancel-button",3,"click"],["fontIcon","clear",1,"submit-icon"],["type","submit",1,"btn","btn-primary","submit-button",3,"click"],["fontIcon","search",1,"submit-icon"],[1,"panel-title","mb-3"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle","mb-0"],[1,"table-light"],[1,"sortable",3,"click"],[1,"sort-icon",3,"fontIcon"],[1,"text-center"],[1,"mt-3"],["colspan","6",1,"text-center","text-muted","small","py-4"],["aria-label","Editar Contribui\xE7\xE3o",1,"rounded-button","me-1",3,"click"],["fontIcon","edit"],["aria-label","Excluir Contribui\xE7\xE3o",1,"rounded-button",3,"click"],["fontIcon","delete"],[1,"pagination","justify-content-end","align-items-center","mb-0"],[1,"me-5"],[1,"page-item"],["type","button",1,"page-link",3,"click","disabled"],[1,"page-item",3,"active"],["type","button",1,"page-link",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Contribui\xE7\xF5es"),i(),o(5,"p",4),a(6,"Visualize e gerencie todas as contribui\xE7\xF5es"),i()(),o(7,"div",5)(8,"button",6),d("click",function(){return n.openNewContribution()}),p(9,"mat-icon",7),a(10," Nova contribui\xE7\xE3o "),i()()(),o(11,"div",8)(12,"mat-card",9)(13,"h2",10),p(14,"mat-icon",11),a(15," Filtros "),i(),o(16,"div",12)(17,"div",13)(18,"label",14),a(19,"Membro"),i(),o(20,"select",15),N("ngModelChange",function(m){return D(n.memberId,m)||(n.memberId=m),m}),o(21,"option",16),a(22,"- Selecione"),i(),C(23,jt,2,2,"option",17,I),h(25,"async"),i()(),o(26,"div",13)(27,"label",18),a(28,"Tipo"),i(),o(29,"select",15),N("ngModelChange",function(m){return D(n.contributionTypeId,m)||(n.contributionTypeId=m),m}),o(30,"option",16),a(31,"- Selecione"),i(),C(32,Gt,2,2,"option",17,I),h(34,"async"),i()(),o(35,"div",13)(36,"label",19),a(37,"Pagamento"),i(),o(38,"select",15),N("ngModelChange",function(m){return D(n.paymentMethodId,m)||(n.paymentMethodId=m),m}),o(39,"option",16),a(40,"- Selecione"),i(),C(41,zt,2,2,"option",17,I),h(43,"async"),i()(),o(44,"div",13)(45,"label",20),a(46,"Data inicial"),i(),o(47,"input",21),N("ngModelChange",function(m){return D(n.startDate,m)||(n.startDate=m),m}),i()(),o(48,"div",13)(49,"label",22),a(50,"Data Final"),i(),o(51,"input",21),N("ngModelChange",function(m){return D(n.endDate,m)||(n.endDate=m),m}),i()()(),o(52,"div",23)(53,"div",24)(54,"button",25),d("click",function(){return n.getWeeklyReport()}),p(55,"mat-icon",26),a(56," Imprimir Relat\xF3rio da semana "),i()(),o(57,"div",27)(58,"button",28),d("click",function(){return n.limpar()}),p(59,"mat-icon",29),a(60," Limpar "),i(),o(61,"button",30),d("click",function(){return n.getContributionList()}),p(62,"mat-icon",31),a(63," Pesquisar "),i()()()()(),o(64,"div",8)(65,"mat-card",9)(66,"h2",32),a(67,"Contribui\xE7\xF5es"),i(),o(68,"div",33)(69,"table",34)(70,"thead",35)(71,"tr")(72,"th",36),d("click",function(){return n.changeSort("date")}),a(73," Data "),x(74,Ut,1,2,"mat-icon",37),i(),o(75,"th",36),d("click",function(){return n.changeSort("memberId")}),a(76," Membro "),x(77,qt,1,2,"mat-icon",37),i(),o(78,"th",36),d("click",function(){return n.changeSort("contributionTypeId")}),a(79," Tipo "),x(80,Ht,1,2,"mat-icon",37),i(),o(81,"th",36),d("click",function(){return n.changeSort("paymentMethodId")}),a(82," Pagamento "),x(83,Jt,1,2,"mat-icon",37),i(),o(84,"th",36),d("click",function(){return n.changeSort("amount")}),a(85," Valor "),x(86,Kt,1,2,"mat-icon",37),i(),o(87,"th",38),a(88,"A\xE7\xF5es"),i()()(),o(89,"tbody"),x(90,Qt,3,0,"tr")(91,Yt,2,0),i()()(),x(92,te,14,7,"nav",39),i()()()),t&2&&(c(20),k("ngModel",n.memberId),c(),s("value",null),c(2),_(P(25,15,n.members$)),c(6),k("ngModel",n.contributionTypeId),c(),s("value",null),c(2),_(P(34,17,n.contributionTypes$)),c(6),k("ngModel",n.paymentMethodId),c(),s("value",null),c(2),_(P(43,19,n.paymentMethods$)),c(6),k("ngModel",n.startDate),c(4),k("ngModel",n.endDate),c(23),S(n.sortBy==="date"?74:-1),c(3),S(n.sortBy==="memberId"?77:-1),c(3),S(n.sortBy==="contributionTypeId"?80:-1),c(3),S(n.sortBy==="paymentMethodId"?83:-1),c(3),S(n.sortBy==="amount"?86:-1),c(4),S(n.contributions.length===0?90:91),c(2),S(n.totalPages>1?92:-1))},dependencies:[Et,Tt,it,$,A,V,St,xt,Z,tt,R,Y,B,Mt,H,_t,ht],styles:[".contributions[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-lowest)}.contributions[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{padding:1.25rem;border-radius:.625rem;box-shadow:0 1px 1px #0f172a0f;border:1px solid rgba(148,163,184,.25);background-color:#fff}.contributions[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:600}.contributions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;height:2.5rem;margin-top:1.75rem}.contributions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{border-radius:.625rem;background-color:#0b2454;font-weight:600}.contributions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}@media(max-width:762px){.btn-print[_ngcontent-%COMP%]{height:4rem!important;padding:1rem}}"]})};export{Rt as ContributionsComponent};
