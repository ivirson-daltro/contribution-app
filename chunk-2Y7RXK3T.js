import{a as H}from"./chunk-FLXGVO2J.js";import{d as Oe,f as we,g as Ie}from"./chunk-25RZTJKE.js";import{a as ke}from"./chunk-DSWH4VZR.js";import{b as fe}from"./chunk-723QPIKE.js";import{b as q}from"./chunk-VZNXFT7U.js";import"./chunk-TAR3LFPR.js";import{a as Ce,b as be,c as he,d as ve,e as Ee,f as Me,g as ye}from"./chunk-P74SJGKF.js";import{a as xe}from"./chunk-2J3QXTNU.js";import{c as B,e as U,g as $,h as se,k as ce,l as de,n as me,o as pe,p as j,q as z,r as L,s as ue,t as ge,u as _e}from"./chunk-GFUDPGUP.js";import{a as Se,b as Pe}from"./chunk-PNOVXD2Q.js";import{a as W,b as G}from"./chunk-7WCVQ4OW.js";import"./chunk-QK5Q5MQS.js";import{$ as C,$a as S,Ab as M,Bb as F,Cb as R,Da as Y,Db as A,E as K,Fb as w,Ia as k,Ib as te,Jb as P,Kb as V,Mb as ne,Nb as ie,R as Z,W as f,Wa as g,Xa as _,Ya as D,Za as ee,_ as x,_a as y,ab as u,bb as a,cb as i,db as p,gc as N,hb as h,hc as oe,ic as ae,jb as m,kb as d,nc as re,oc as le,uc as v,wb as T,ya as s,yb as r,zb as E}from"./chunk-3U63YFDR.js";import{a as Q,b as X}from"./chunk-7CGTOI24.js";var O=class o{httpClient=f(le);getCategories(){return this.httpClient.get(`${v.apiUrl}/domain/expense-categories`)}getExpenses(n,t,e,l=1,c=10,J,Fe="desc"){let b=new re().set("page",l.toString()).set("limit",c.toString());return J&&(b=b.set("sortBy",J).set("sortDirection",Fe)),n&&(b=b.set("startDate",n)),t&&(b=b.set("endDate",t)),e&&(b=b.set("categoryId",e)),this.httpClient.get(`${v.apiUrl}/expenses/paginated`,{params:b})}saveExpense(n){return this.httpClient.post(`${v.apiUrl}/expenses`,n)}updateExpense(n,t){return this.httpClient.put(`${v.apiUrl}/expenses/${t}`,n)}getById(n){return this.httpClient.get(`${v.apiUrl}/expenses/${n}`)}deleteExpense(n){return this.httpClient.delete(`${v.apiUrl}/expenses/${n}`)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=Z({token:o,factory:o.\u0275fac,providedIn:"root"})};function Ne(o,n){if(o&1&&(a(0,"option",10),r(1),i()),o&2){let t=n.$implicit;u("value",t.id),s(),E(t.name)}}function Be(o,n){if(o&1){let t=h();a(0,"div",17)(1,"a",24),m("click",function(l){x(t);let c=d();return c.downloadAttachment(c.data==null?null:c.data.attachmentUrl),C(l.preventDefault())}),p(2,"mat-icon",25),r(3," Baixar arquivo atual "),i()()}}var I=class o{constructor(n,t){this.dialogRef=n;this.data=t}selectedFile=null;expensesService=f(O);utilsService=f(H);toastService=f(q);fb=f(ue);form;categories$=this.expensesService.getCategories();today=new Date;maxDate=this.today.toISOString().substring(0,10);ngOnInit(){this.buildForm(),this.data&&this.form.patchValue({value:this.data.value,categoryId:this.data.categoryId,date:this.data.date?this.data.date.substring(0,10):this.today.toISOString().substring(0,10),notes:this.data.notes||""})}buildForm(){this.form=this.fb.group({value:[null,U.required],categoryId:["",U.required],date:[this.today.toISOString().substring(0,10),U.required],notes:[""]})}submit(){let n=this.form.getRawValue(),t=X(Q({},n),{value:typeof n.value=="string"?parseFloat(n.value.replace(",",".")):n.value,attachmentUrl:this.data?.attachmentUrl??null}),e=new FormData;e.append("expense",JSON.stringify(t)),this.selectedFile&&e.append("file",this.selectedFile),this.data?(e.append("id",this.data.id),this.updateExpense(e,this.data.id)):this.saveExpense(e)}saveExpense(n){this.expensesService.saveExpense(n).subscribe({next:()=>{this.dialogRef.close(!0)},error:t=>{this.toastService.error("Erro ao salvar despesa. Por favor, tente novamente.")}})}updateExpense(n,t){this.expensesService.updateExpense(n,t).subscribe({next:()=>{this.dialogRef.close(!0)},error:e=>{this.toastService.error("Erro ao atualizar despesa. Por favor, tente novamente.")}})}onFileSelected(n){let t=n.target;t.files&&t.files.length>0?this.selectedFile=t.files[0]:this.selectedFile=null}async downloadAttachment(n){this.utilsService.downloadAttachment(n)}close(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||o)(Y(Ce),Y(be))};static \u0275cmp=k({type:o,selectors:[["app-add-expenses"]],decls:42,vars:9,consts:[[1,"cadastrar-container"],[1,"cadastrar-card"],["mat-dialog-title","",1,"card-title"],[1,"contribution-form",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"col-lg-6"],["for","categoryId",1,"form-label"],["formControlName","categoryId",1,"form-control"],["value","","disabled","","selected",""],[3,"value"],["for","value",1,"form-label"],["type","text","formControlName","value","placeholder","R$ 0,00","mask","separator.2","thousandSeparator",".","decimalMarker",",","prefix","R$ ","inputMode","decimal","autocomplete","off",1,"form-control",3,"blur","dropSpecialCharacters"],["for","date",1,"form-label"],["type","date","formControlName","date","placeholder","Digite a data",1,"form-control",3,"max"],["for","attachment",1,"form-label"],["type","file","id","attachment","accept",".pdf,.jpg,.jpeg,.png",1,"form-control",3,"change"],[1,"mt-2"],["for","notes",1,"form-label"],["formControlName","notes",1,"form-control"],["align","end",1,"form-footer"],["type","button",1,"btn","cancel-button",3,"click"],["type","submit",1,"btn","btn-primary","submit-button",3,"disabled"],["fontIcon","save",1,"submit-icon"],["href","#",1,"attachment-link",3,"click"],["fontIcon","attach_file"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1)(2,"h2",2),r(3),i(),a(4,"form",3),m("ngSubmit",function(){return e.submit()}),a(5,"mat-dialog-content")(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),r(10,"Tipo de Despesa"),i(),a(11,"select",8)(12,"option",9),r(13,"- Selecione"),i(),y(14,Ne,2,2,"option",10,D),P(16,"async"),i()(),a(17,"div",6)(18,"label",11),r(19,"Valor"),i(),a(20,"input",12),m("blur",function(){return e.utilsService.onAmountBlur(e.form,"value")}),i()()()(),a(21,"div",4)(22,"div",5)(23,"div",6)(24,"label",13),r(25,"Data"),i(),p(26,"input",14),i(),a(27,"div",6)(28,"label",15),r(29,"Anexar Comprovante"),i(),a(30,"input",16),m("change",function(c){return e.onFileSelected(c)}),i(),g(31,Be,4,0,"div",17),i()()(),a(32,"div",4)(33,"label",18),r(34,"Observa\xE7\xF5es"),i(),p(35,"textarea",19),i()(),a(36,"mat-dialog-actions",20)(37,"button",21),m("click",function(){return e.close()}),r(38,"Cancelar"),i(),a(39,"button",22),p(40,"mat-icon",23),r(41),i()()()()()),t&2&&(s(3),M("",e.data?"Editar":"Nova"," Despesa"),s(),u("formGroup",e.form),s(10),S(V(16,7,e.categories$)),s(6),u("dropSpecialCharacters",!0),s(6),u("max",e.maxDate),s(5),_(e.data!=null&&e.data.attachmentUrl&&!e.selectedFile?31:-1),s(8),u("disabled",e.form.invalid),s(2),M(" ",e.data?"Editar":"Registrar"," Despesa "))},dependencies:[_e,de,z,L,B,j,$,se,pe,me,ye,ve,Me,Ee,G,W,we,Oe,Ie,fe,N],styles:[".cadastrar-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.25rem;font-weight:700;color:#0b2454}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]{padding-top:.25rem}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:600;margin-bottom:.35rem;color:#374151}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#f7f9fc;border-radius:.75rem}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field-appearance-outline[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#d1d5db}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#1d4ed8}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e5e7eb;display:flex;gap:1rem;align-items:center}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}.cadastrar-container[_ngcontent-%COMP%]   .contribution-form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;height:3rem;border-radius:.625rem;background-color:#0b2454;font-weight:600}.cadastrar-container[_ngcontent-%COMP%]   .autocomplete-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.cadastrar-container[_ngcontent-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:10;background:#fff;border:1px solid #ddd;border-radius:0 0 4px 4px;max-height:200px;overflow-y:auto;margin:0;padding:0;list-style:none}.cadastrar-container[_ngcontent-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;transition:background .2s}.cadastrar-container[_ngcontent-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f5f5f5}.cadastrar-container[_ngcontent-%COMP%]   .autocomplete-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background:#e3e3e3;font-weight:700}[_nghost-%COMP%]     .cdk-overlay-pane .mat-mdc-autocomplete-panel{background-color:#fff!important}[_nghost-%COMP%]     .mat-mdc-option{background-color:#fff}[_nghost-%COMP%]     .mat-mdc-option.mdc-list-item--activated, [_nghost-%COMP%]     .mat-mdc-option.mdc-list-item--selected{background-color:#f5f5f5}.attachment-link[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0b2454;text-decoration:none}.attachment-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;margin-left:.25rem;margin-top:.25rem}@media(max-width:600px){.cadastrar-card[_ngcontent-%COMP%]{padding:1.25rem 1.25rem 1.75rem}}"]})};var Ue=o=>[o,"BRL","symbol","1.2-2","pt-BR"],$e=(o,n)=>n.id;function je(o,n){if(o&1){let t=h();a(0,"button",39),m("click",function(){x(t);let l=d();return C(l.openNewExpense())}),p(1,"mat-icon",40),r(2," Nova despesa "),i()}}function ze(o,n){if(o&1&&(a(0,"option",16),r(1),i()),o&2){let t=n.$implicit;u("value",t.id),s(),E(t.name)}}function Le(o,n){if(o&1){let t=h();a(0,"button",41),m("click",function(){x(t);let l=d();return C(l.getMonthlyReport())}),p(1,"mat-icon",42),r(2," Imprimir Relat\xF3rio de despesas do m\xEAs "),i()}}function We(o,n){if(o&1&&p(0,"mat-icon",33),o&2){let t=d();u("fontIcon",w(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function Ge(o,n){if(o&1&&p(0,"mat-icon",33),o&2){let t=d();u("fontIcon",w(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function qe(o,n){if(o&1&&p(0,"mat-icon",33),o&2){let t=d();u("fontIcon",w(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function He(o,n){if(o&1&&p(0,"mat-icon",33),o&2){let t=d();u("fontIcon",w(t.sortDirection==="asc"?"arrow_upward":"arrow_downward"))}}function Je(o,n){o&1&&(a(0,"th",34),r(1,"A\xE7\xF5es"),i())}function Ke(o,n){o&1&&(a(0,"tr")(1,"td",43),r(2," Nenhuma despesa encontrada. "),i()())}function Ye(o,n){if(o&1){let t=h();a(0,"a",47),m("click",function(l){x(t);let c=d().$implicit;return d(2).downloadAttachment(c.attachmentUrl),C(l.preventDefault())}),p(1,"mat-icon",48),i()}}function Qe(o,n){o&1&&(a(0,"span",46),r(1,"-"),i())}function Xe(o,n){if(o&1){let t=h();a(0,"td",34)(1,"button",49),m("click",function(){x(t);let l=d().$implicit,c=d(2);return C(c.editExpense(l))}),p(2,"mat-icon",50),i(),a(3,"button",51),m("click",function(){x(t);let l=d().$implicit,c=d(2);return C(c.deleteExpense(l.id))}),p(4,"mat-icon",52),i()()}}function Ze(o,n){if(o&1&&(a(0,"tr")(1,"td",34),r(2),P(3,"date"),i(),a(4,"td",34),r(5),P(6,"currency"),i(),a(7,"td",34),r(8),i(),a(9,"td",44),g(10,Ye,2,0,"a",45)(11,Qe,2,0,"span",46),i(),a(12,"td",34),r(13),i(),g(14,Xe,5,0,"td",34),i()),o&2){let t=n.$implicit,e=d(2);s(2),E(ne(3,6,t.date,"shortDate","pt-BR")),s(3),M(" ",ie(6,10,te(16,Ue,e.utilsService.normalizeAmount(t.value)))," "),s(3),E(t.category.name),s(2),_(t.attachmentUrl?10:11),s(3),E(t.notes),s(),_((e.user==null?null:e.user.role)===e.userRoles.ADMIN||(e.user==null?null:e.user.role)===e.userRoles.TREASURER?14:-1)}}function et(o,n){if(o&1&&y(0,Ze,15,18,"tr",null,$e),o&2){let t=d();S(t.expenses)}}function tt(o,n){if(o&1){let t=h();a(0,"li",54)(1,"button",57),m("click",function(){let l=x(t).$implicit,c=d(2);return C(c.goToPage(l))}),r(2),i()()}if(o&2){let t=n.$implicit,e=d(2);T("active",e.pageIndex===t),s(2),M(" ",t+1," ")}}function nt(o,n){if(o&1){let t=h();a(0,"nav",38)(1,"ul",53)(2,"li",54)(3,"button",55),m("click",function(){x(t);let l=d();return C(l.goToPage(l.pageIndex-1))}),r(4," Anterior "),i()(),y(5,tt,3,3,"li",56,ee),a(7,"li",54)(8,"button",55),m("click",function(){x(t);let l=d();return C(l.goToPage(l.pageIndex+1))}),r(9," Pr\xF3xima "),i()()()()}if(o&2){let t=d();s(2),T("disabled",t.pageIndex===0),s(),u("disabled",t.pageIndex===0),s(2),S(t.pages),s(2),T("disabled",t.pageIndex>=t.totalPages-1),s(),u("disabled",t.pageIndex>=t.totalPages-1)}}var Te=class o{expensesService=f(O);toastService=f(q);dialog=f(he);utilsService=f(H);form;user=this.getUserFromLocalStorage();userRoles=xe;categories$=this.expensesService.getCategories();expenses=[];totalExpenses=0;pageIndex=0;pageSize=10;sortBy="date";sortDirection="desc";startDate=null;endDate=null;categoryId=null;ngOnInit(){this.loadExpenses()}getUserFromLocalStorage(){let n=localStorage.getItem(v.APP_USER_KEY);return n?JSON.parse(n):null}loadExpenses(n=this.pageIndex,t=this.pageSize){let e=n+1;this.expensesService.getExpenses(this.startDate,this.endDate,this.categoryId,e,t,this.sortBy,this.sortDirection).pipe(K()).subscribe(l=>{if(!l){this.expenses=[],this.totalExpenses=0;return}console.log("Expenses:",l),this.expenses=l.data??[],this.totalExpenses=l.total??0,this.pageIndex=(l.page??e)-1,this.pageSize=l.limit??t})}openNewExpense(){this.dialog.open(I,{width:"720px",maxWidth:"95vw",autoFocus:!1}).afterClosed().subscribe(t=>{t&&this.loadExpenses()})}getMonthlyReport(){this.toastService.success("Relat\xF3rio mensal de despesas gerado com sucesso!")}get totalPages(){return this.pageSize>0?Math.ceil(this.totalExpenses/this.pageSize):0}get pages(){return Array.from({length:this.totalPages},(n,t)=>t)}goToPage(n){n<0||n>=this.totalPages||n===this.pageIndex||(this.pageIndex=n,this.loadExpenses(this.pageIndex,this.pageSize))}changeSort(n){this.sortBy===n?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortBy=n,this.sortDirection="asc"),this.pageIndex=0,this.loadExpenses(0,this.pageSize)}editExpense(n){console.log(n),this.dialog.open(I,{width:"720px",maxWidth:"95vw",autoFocus:!1,data:n}).afterClosed().subscribe(e=>{e&&this.loadExpenses()})}deleteExpense(n){this.dialog.open(ke,{width:"400px",data:{title:"Excluir Despesa",subtitle:"Tem certeza que deseja excluir esta despesa?",confirmLabel:"Excluir",cancelLabel:"Cancelar"}}).afterClosed().subscribe(e=>{e&&this.onDeleteExpense(n)})}onDeleteExpense(n){this.expensesService.deleteExpense(n).pipe(K()).subscribe({next:()=>{this.toastService.success("Despesa exclu\xEDda com sucesso."),this.loadExpenses()},error:t=>{this.toastService.error(t.error.error||"Erro desconhecido","Erro ao excluir a despesa")}})}limpar(){this.startDate=null,this.endDate=null,this.categoryId=null,this.loadExpenses()}async downloadAttachment(n){this.utilsService.downloadAttachment(n)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=k({type:o,selectors:[["app-expenses"]],decls:76,vars:16,consts:[[1,"expenses","container-fluid","py-4"],[1,"row","align-items-center","mb-4"],[1,"col-12","col-lg"],[1,"h4","mb-1","fw-semibold"],[1,"text-muted","small","mb-0"],[1,"col-12","col-lg-auto"],["type","button",1,"btn","btn-primary","submit-button"],[1,"col-12","mb-4"],[1,"panel","h-100"],[1,"panel-title","mb-3","d-flex","align-items-center"],["fontIcon","filter_alt",1,"me-2"],[1,"row","mb-2"],[1,"col-12","col-lg","mb-3"],["for","categoryId",1,"form-label"],[1,"form-control",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value"],["for","startDate",1,"form-label"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label"],[1,"row","justify-content-between"],[1,"col-12","col-lg-4"],["type","button",1,"btn","btn-primary","submit-button","btn-print"],[1,"col-12","col-lg-4","text-end"],["type","button",1,"btn","cancel-button",3,"click"],["fontIcon","clear",1,"submit-icon"],["type","submit",1,"btn","btn-primary","submit-button",3,"click"],["fontIcon","search",1,"submit-icon"],[1,"panel-title","mb-3"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle","mb-0"],[1,"table-light"],[1,"sortable","text-center",3,"click"],[1,"sort-icon",3,"fontIcon"],[1,"text-center"],[1,"row"],[1,"col-12","col-lg-6"],[1,"me-5","mb-3","mt-4"],[1,"mt-3"],["type","button",1,"btn","btn-primary","submit-button",3,"click"],["fontIcon","add",1,"submit-icon"],["type","button",1,"btn","btn-primary","submit-button","btn-print",3,"click"],["fontIcon","print",1,"submit-icon"],["colspan","6",1,"text-center","text-muted","small","py-4"],[1,"d-flex","justify-content-center"],["href","#",1,"attachment-link"],[1,"text-muted"],["href","#",1,"attachment-link",3,"click"],["fontIcon","attach_file"],["aria-label","Editar Despesa",1,"rounded-button","me-1",3,"click"],["fontIcon","edit"],["aria-label","Excluir Despesa",1,"rounded-button",3,"click"],["fontIcon","delete"],[1,"pagination","justify-content-end","align-items-center","mb-0"],[1,"page-item"],["type","button",1,"page-link",3,"click","disabled"],[1,"page-item",3,"active"],["type","button",1,"page-link",3,"click"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"Despesas"),i(),a(5,"p",4),r(6,"Visualize e gerencie todas as despesas"),i()(),a(7,"div",5),g(8,je,3,0,"button",6),i()(),a(9,"div",7)(10,"mat-card",8)(11,"h2",9),p(12,"mat-icon",10),r(13," Filtros "),i(),a(14,"div",11)(15,"div",12)(16,"label",13),r(17,"Categoria"),i(),a(18,"select",14),A("ngModelChange",function(c){return R(e.categoryId,c)||(e.categoryId=c),c}),a(19,"option",15),r(20,"- Selecione"),i(),y(21,ze,2,2,"option",16,D),P(23,"async"),i()(),a(24,"div",12)(25,"label",17),r(26,"Data inicial"),i(),a(27,"input",18),A("ngModelChange",function(c){return R(e.startDate,c)||(e.startDate=c),c}),i()(),a(28,"div",12)(29,"label",19),r(30,"Data Final"),i(),a(31,"input",18),A("ngModelChange",function(c){return R(e.endDate,c)||(e.endDate=c),c}),i()()(),a(32,"div",20)(33,"div",21),g(34,Le,3,0,"button",22),i(),a(35,"div",23)(36,"button",24),m("click",function(){return e.limpar()}),p(37,"mat-icon",25),r(38," Limpar "),i(),a(39,"button",26),m("click",function(){return e.loadExpenses()}),p(40,"mat-icon",27),r(41," Pesquisar "),i()()()()(),a(42,"div",7)(43,"mat-card",8)(44,"h2",28),r(45,"Despesas"),i(),a(46,"div",29)(47,"table",30)(48,"thead",31)(49,"tr")(50,"th",32),m("click",function(){return e.changeSort("date")}),r(51," Data "),g(52,We,1,2,"mat-icon",33),i(),a(53,"th",32),m("click",function(){return e.changeSort("value")}),r(54," Valor "),g(55,Ge,1,2,"mat-icon",33),i(),a(56,"th",32),m("click",function(){return e.changeSort("categoryId")}),r(57," Categoria "),g(58,qe,1,2,"mat-icon",33),i(),a(59,"th",34),r(60,"Anexo"),i(),a(61,"th",32),m("click",function(){return e.changeSort("categoryId")}),r(62," Observa\xE7\xF5es "),g(63,He,1,2,"mat-icon",33),i(),g(64,Je,2,0,"th",34),i()(),a(65,"tbody"),g(66,Ke,3,0,"tr")(67,et,2,0),i()()(),a(68,"div",35)(69,"div",36)(70,"p",37)(71,"strong"),r(72,"Total de despesas:"),i(),r(73),i()(),a(74,"div",36),g(75,nt,10,6,"nav",38),i()()()()()),t&2&&(s(8),_((e.user==null?null:e.user.role)===e.userRoles.ADMIN||(e.user==null?null:e.user.role)===e.userRoles.TREASURER?8:-1),s(10),F("ngModel",e.categoryId),s(),u("value",null),s(2),S(V(23,14,e.categories$)),s(6),F("ngModel",e.startDate),s(4),F("ngModel",e.endDate),s(3),_((e.user==null?null:e.user.role)===e.userRoles.ADMIN||(e.user==null?null:e.user.role)===e.userRoles.TREASURER?34:-1),s(18),_(e.sortBy==="date"?52:-1),s(3),_(e.sortBy==="value"?55:-1),s(3),_(e.sortBy==="categoryId"?58:-1),s(5),_(e.sortBy==="categoryId"?63:-1),s(),_((e.user==null?null:e.user.role)===e.userRoles.ADMIN||(e.user==null?null:e.user.role)===e.userRoles.TREASURER?64:-1),s(2),_(e.expenses.length===0?66:67),s(7),M(" ",e.totalExpenses),s(2),_(e.totalPages>1?75:-1))},dependencies:[G,W,Pe,Se,ge,z,L,B,j,$,ce,N,oe,ae],styles:[".expenses[_ngcontent-%COMP%]{background-color:var(--mat-sys-surface-container-lowest)}.expenses[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{padding:1.25rem;border-radius:.625rem;box-shadow:0 1px 1px #0f172a0f;border:1px solid rgba(148,163,184,.25);background-color:#fff}.expenses[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:600}.expenses[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;height:2.5rem;margin-top:1.75rem}.expenses[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{border-radius:.625rem;background-color:#0b2454;font-weight:600}.expenses[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}.expenses[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]{border-radius:.625rem;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;color:#0b2454;text-decoration:none}.expenses[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]:hover{background-color:#facc15}.expenses[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;margin-left:.25rem;margin-top:.25rem}@media(max-width:762px){.btn-print[_ngcontent-%COMP%]{height:4rem!important;padding:1rem}}"]})};export{Te as ExpensesComponent};
