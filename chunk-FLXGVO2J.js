import{b as u}from"./chunk-VZNXFT7U.js";import{R as c,W as l,oc as s}from"./chunk-3U63YFDR.js";var m=class a{httpClient=l(s);toastService=l(u);normalizeAmount(o){if(o==null)return 0;let e=String(o).trim();if(!e)return 0;e=e.replace(/R\$/g,"").replace(/\s/g,""),e.includes(",")&&(e=e.replace(/\./g,"").replace(",","."));let t=Number(e);return Number.isNaN(t)?0:t}onAmountBlur(o,e){let t=o.get(e);if(!t)return;let r=t.value;if(r)if(r=String(r).replace(/R\$/g,"").replace(/\s/g,""),r.includes(",")){let[i,n]=r.split(",");n&&n.length===2?t.setValue(`R$ ${i},${n}`):n&&n.length===1?t.setValue(`R$ ${i},${n}0`):t.setValue(`R$ ${i},00`)}else t.setValue(`R$ ${r},00`)}downloadAttachment(o){this.httpClient.get(o,{responseType:"blob"}).subscribe({next:e=>{let t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t;let i="anexo"+new Date().getTime();r.download=i,document.body.appendChild(r),r.click(),setTimeout(()=>{window.URL.revokeObjectURL(t),document.body.removeChild(r)},100)},error:()=>{this.toastService.error("N\xE3o foi poss\xEDvel baixar o arquivo.")}})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
