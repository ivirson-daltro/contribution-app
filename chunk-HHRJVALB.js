import{b as i,g as a}from"./chunk-2U2XYU7W.js";import{T as e}from"./chunk-WWQWIYYY.js";var v=(m,r)=>{let o=e(a),t=e(i);if(!o.isAuthenticated())return t.navigate(["/auth/login"],{queryParams:{returnUrl:r.url}}),!1;let s=localStorage.getItem("user"),n=s?JSON.parse(s):null;if(!n)return o.logout(),t.navigate(["/auth/login"]),!1;let l={"/members":["ADMIN"],"/users":["ADMIN"],"/contributions":["ADMIN","USER"],"/":["ADMIN","USER"]},u=r.url.split("?")[0],c=u.split("/")[1]?`/${u.split("/")[1]}`:"/";return(l[c]||["ADMIN","USER"]).includes(n.role)?!0:(t.navigate(["/"]),!1)};export{v as a};
