import{b as F}from"./chunk-EXYSGIRZ.js";import{c as h,d as b,h as O}from"./chunk-LKGYAMUU.js";import{c as v,e as d,g as C,h as M,l as x,o as P,p as w,v as _,x as y}from"./chunk-H3SVK5VC.js";import{a as S,b as E}from"./chunk-ATKN46PQ.js";import"./chunk-D735FC2V.js";import{E as u,Ia as p,W as n,bb as s,cb as e,db as t,eb as i,kb as f,mc as g,ya as l,zb as r}from"./chunk-2AFPZVH2.js";import"./chunk-7CGTOI24.js";var k=class c{fb=n(_);router=n(h);authService=n(O);toastService=n(F);form;ngOnInit(){this.buildForm()}buildForm(){this.form=this.fb.group({email:["",[d.required,d.email]]})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{email:a}=this.form.getRawValue();this.authService.forgotPassword(a).pipe(u()).subscribe({next:()=>{this.toastService.success("Se um usu\xE1rio com esse email existir, um link para resetar a senha foi enviado.","Email enviado")},error:o=>{this.toastService.error(o.error.error||"Erro desconhecido","Erro ao enviar email")}})}static \u0275fac=function(o){return new(o||c)};static \u0275cmp=p({type:c,selectors:[["app-forgot-password"]],decls:19,vars:2,consts:[[1,"auth-page","d-flex","align-items-center","justify-content-center"],[1,"auth-card"],[1,"auth-icon-wrapper"],["src","images/logo.png","alt","Logo da igreja"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","seu@email.com","formControlName","email",1,"form-control"],["type","submit",1,"btn","btn-primary","auth-submit-btn","w-100","my-4",3,"disabled"],["fontIcon","login",1,"me-2"],[1,"mb-4","d-flex","align-items-center","justify-content-center"],["routerLink","/auth/login"]],template:function(o,m){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),i(3,"img",3),t(),e(4,"h1",4),r(5,"Esqueceu a senha?"),t(),e(6,"p",5),r(7,"Digite seu email para receber o link de redefini\xE7\xE3o de senha"),t(),e(8,"form",6),f("ngSubmit",function(){return m.submit()}),e(9,"div",7)(10,"label",8),r(11,"Email"),t(),i(12,"input",9),t(),e(13,"button",10),i(14,"mat-icon",11),r(15," Enviar "),t(),e(16,"div",12)(17,"a",13),r(18,"Voltar para o login"),t()()()()()),o&2&&(l(8),s("formGroup",m.form),l(5),s("disabled",m.form.invalid))},dependencies:[g,y,x,v,C,M,w,P,E,S,b],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at top left,#e5edf9 0,#f3f4f6 45%,#fff);padding:2rem 1rem}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:460px;background-color:#fff;border-radius:1.25rem;box-shadow:0 18px 45px #0f172a1f;padding:2.25rem 2.5rem 2.5rem}.auth-icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}.auth-icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.auth-title[_ngcontent-%COMP%]{text-align:center;font-size:1.35rem;font-weight:700;color:#0b2454;margin-bottom:.25rem}.auth-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#6b7280;margin-bottom:1.75rem}.auth-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#374151}.auth-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:.75rem;border-color:#d1d5db;padding:.65rem .9rem}.auth-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#1d4ed8;box-shadow:0 0 0 1px #2563eb40}.auth-submit-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;height:2.9rem;border-radius:.625rem;background-color:#0b2454;border-color:#0b2454;font-weight:600}.auth-submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7}a[_ngcontent-%COMP%]{text-decoration:none}@media(max-width:576px){.auth-card[_ngcontent-%COMP%]{padding:1.75rem 1.5rem 2rem}}"]})};export{k as ForgotPasswordComponent};
