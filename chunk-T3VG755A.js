import{b,g as w}from"./chunk-65N7VC4C.js";import{b as D}from"./chunk-ACZGM75L.js";import{a as O}from"./chunk-2J3QXTNU.js";import{c as h,e as a,f as v,g as S,i as C,j as E,k as y,l as M,m as x,n as R,o as P,q as _}from"./chunk-XFPGHWFH.js";import{a as N,b as F}from"./chunk-K6JHMUYJ.js";import"./chunk-UA6553JU.js";import{D as p,Fa as u,T as s,Xa as n,Xb as g,Ya as t,Za as e,_a as m,eb as f,pb as r,va as i}from"./chunk-BCEI6LD6.js";import"./chunk-7CGTOI24.js";var I=class c{authService=s(w);fb=s(P);toastService=s(D);router=s(b);form;userRoles=O;ngOnInit(){this.buildForm()}buildForm(){this.form=this.fb.group({name:["",[a.required]],email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]],confirmPassword:["",[a.required]],role:["",[a.required]]})}submit(){let d=this.form.getRawValue();this.authService.register(d).pipe(p()).subscribe({next:()=>{this.toastService.success("Usu\xE1rio registrado com sucesso"),this.router.navigate(["/auth/login"])},error:l=>{this.toastService.error(l.error.error||"Erro desconhecido","Erro ao registrar usu\xE1rio")}})}static \u0275fac=function(l){return new(l||c)};static \u0275cmp=u({type:c,selectors:[["app-register"]],decls:45,vars:7,consts:[[1,"auth-page","d-flex","align-items-center","justify-content-center"],[1,"auth-card"],[1,"auth-icon-wrapper"],["src","images/logo.png","alt","Logo da igreja"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Digite o nome completo","formControlName","name",1,"form-control"],["type","email","placeholder","seu@email.com","formControlName","email",1,"form-control"],[1,"row","mb-3"],[1,"col-12","col-md-6"],["type","password","placeholder","M\xEDnimo 6 caracteres","formControlName","password",1,"form-control"],["type","password","placeholder","Repita a senha","formControlName","confirmPassword",1,"form-control"],[1,"mb-4"],["formControlName","role",1,"form-control"],["value","","disabled","","selected",""],[3,"value"],["type","submit",1,"btn","btn-primary","auth-submit-btn","w-100",3,"disabled"],["fontIcon","person_add",1,"me-2"]],template:function(l,o){l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),e(),t(4,"h1",4),r(5,"Criar conta"),e(),t(6,"p",5),r(7,"Registre um novo usu\xE1rio para acessar o sistema"),e(),t(8,"form",6),f("ngSubmit",function(){return o.submit()}),t(9,"div",7)(10,"label",8),r(11,"Nome"),e(),m(12,"input",9),e(),t(13,"div",7)(14,"label",8),r(15,"Email"),e(),m(16,"input",10),e(),t(17,"div",11)(18,"div",12)(19,"label",8),r(20,"Senha"),e(),m(21,"input",13),e(),t(22,"div",12)(23,"label",8),r(24,"Confirmar Senha"),e(),m(25,"input",14),e()(),t(26,"div",15)(27,"label",8),r(28,"Perfil"),e(),t(29,"select",16)(30,"option",17),r(31,"- Selecione"),e(),t(32,"option",18),r(33,"Administrador"),e(),t(34,"option",18),r(35,"Conselho Fiscal"),e(),t(36,"option",18),r(37,"Secret\xE1rio"),e(),t(38,"option",18),r(39,"Tesoureiro"),e(),t(40,"option",18),r(41,"Presidente"),e()()(),t(42,"button",19),m(43,"mat-icon",20),r(44," Registrar "),e()()()()),l&2&&(i(8),n("formGroup",o.form),i(24),n("value",o.userRoles.ADMIN),i(2),n("value",o.userRoles.FISCAL),i(2),n("value",o.userRoles.SECRETARY),i(2),n("value",o.userRoles.TREASURER),i(2),n("value",o.userRoles.PRESIDENT),i(2),n("disabled",o.form.invalid))},dependencies:[g,_,C,x,R,h,M,v,S,y,E,F,N],styles:[".auth-page[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at top left,#e5edf9 0,#f3f4f6 45%,#fff);padding:2rem 1rem}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:460px;background-color:#fff;border-radius:1.25rem;box-shadow:0 18px 45px #0f172a1f;padding:2.25rem 2.5rem 2.5rem}.auth-icon-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}.auth-icon-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.auth-title[_ngcontent-%COMP%]{text-align:center;font-size:1.35rem;font-weight:700;color:#0b2454;margin-bottom:.25rem}.auth-subtitle[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#6b7280;margin-bottom:1.75rem}.auth-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#374151}.auth-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:.75rem;border-color:#d1d5db;padding:.65rem .9rem}.auth-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#1d4ed8;box-shadow:0 0 0 1px #2563eb40}.auth-submit-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;height:2.9rem;border-radius:.625rem;background-color:#0b2454;border-color:#0b2454;font-weight:600}.auth-submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7}@media(max-width:576px){.auth-card[_ngcontent-%COMP%]{padding:1.75rem 1.5rem 2rem}}"]})};export{I as RegisterComponent};
