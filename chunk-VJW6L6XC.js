import{b as m}from"./chunk-EXYSGIRZ.js";import{R as s,W as l,rc as c}from"./chunk-2AFPZVH2.js";var p=class a{httpClient=l(c);toastService=l(m);normalizeAmount(i){if(i==null)return 0;let e=String(i).trim();if(!e)return 0;e=e.replace(/R\$/g,"").replace(/\s/g,""),e.includes(",")&&(e=e.replace(/\./g,"").replace(",","."));let t=Number(e);return Number.isNaN(t)?0:t}onAmountBlur(i,e){let t=i.get(e);if(!t)return;let r=t.value;if(r)if(r=String(r).replace(/R\$/g,"").replace(/\s/g,""),r.includes(",")){let[o,n]=r.split(",");n&&n.length===2?t.setValue(`R$ ${o},${n}`):n&&n.length===1?t.setValue(`R$ ${o},${n}0`):t.setValue(`R$ ${o},00`)}else t.setValue(`R$ ${r},00`)}downloadAttachment(i,e){this.httpClient.get(i,{responseType:"blob"}).subscribe({next:t=>{let r=window.URL.createObjectURL(t),o=document.createElement("a");o.href=r;let n=`${e}_${new Date().getTime()}`;o.download=n,document.body.appendChild(o),o.click(),setTimeout(()=>{window.URL.revokeObjectURL(r),document.body.removeChild(o)},100)},error:()=>{this.toastService.error("N\xE3o foi poss\xEDvel baixar o arquivo.")}})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"})};export{p as a};
