import{a as F}from"./chunk-C6VM4AAI.js";import{a as L}from"./chunk-723QPIKE.js";import{b as N}from"./chunk-VZNXFT7U.js";import"./chunk-2J3QXTNU.js";import{b as w,c as O,f as $,g as D,h as z}from"./chunk-2F2UWFXG.js";import"./chunk-GFUDPGUP.js";import"./chunk-QK5Q5MQS.js";import{D as d,Ia as v,Jb as H,Kb as y,Qb as E,R as f,W as r,Wa as b,Xa as M,bb as S,cb as C,db as R,e as c,gc as j,ia as g,j as u,kc as x,mc as I,pc as P,qc as T,rc as q,w as l,ya as h,yb as A}from"./chunk-3U63YFDR.js";import"./chunk-7CGTOI24.js";function G(e){let o=e,t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length,n=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:n===0&&t!==0&&t%1e6===0&&i===0||!(n>=0&&n<=5)?4:5}var B=["pt",[["AM","PM"]],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",G];var a=class e{activeRequests=0;loadingSubject=new c(!1);get loading$(){return this.loadingSubject.asObservable()}show(){this.activeRequests++,this.activeRequests===1&&Promise.resolve().then(()=>this.loadingSubject.next(!0))}hide(){this.activeRequests!==0&&(this.activeRequests--,this.activeRequests===0&&Promise.resolve().then(()=>this.loadingSubject.next(!1)))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=f({token:e,factory:e.\u0275fac,providedIn:"root"})};function V(e,o){e&1&&(S(0,"div",0)(1,"div",1)(2,"span",2),A(3,"Carregando..."),C()()())}var s=class e{isLoading$=r(a).loading$;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-root"]],decls:3,vars:3,consts:[[1,"global-loading-overlay"],["role","status",1,"global-loading-spinner","spinner-border"],[1,"visually-hidden"]],template:function(t,i){t&1&&(R(0,"router-outlet"),b(1,V,4,0,"div",0),H(2,"async")),t&2&&(h(),M(y(2,1,i.isLoading$)?1:-1))},dependencies:[w,j],styles:[".global-loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a59;display:flex;align-items:center;justify-content:center;z-index:1300}.global-loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.25rem;color:#fff}"]})};var U=[{path:"auth",loadChildren:()=>import("./chunk-JEX5Q4SF.js").then(e=>e.AUTH_ROUTES)},{path:"",canActivate:[F],loadChildren:()=>import("./chunk-32JSPFPJ.js").then(e=>e.HOME_ROUTES)}];var k=(e,o)=>{let t=r(a);return t.show(),o(e).pipe(d(()=>{t.hide()}))};var _=(e,o)=>{let t=r(z),i=r(O),n=r(N),m=t.getToken();if(e.url.includes("/auth/login")||!m)return o(e);let Y=e.clone({setHeaders:{Authorization:`Bearer ${m}`}});return o(Y).pipe(l(p=>(p.status===401?(t.logout(),n.error("Sess\xE3o expirada. Fa\xE7a login novamente."),i.navigate(["/auth/login"],{queryParams:{returnUrl:i.url}})):p.status===403&&n.warning("Voc\xEA n\xE3o tem permiss\xE3o para acessar este recurso."),u(()=>p))))};var J={providers:[g(),$(U,D()),P(T([k,_]),q()),{provide:E,useValue:"pt-BR"},L()]};x(B);I(s,J).catch(e=>console.error(e));
