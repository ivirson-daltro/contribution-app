import{a as z}from"./chunk-CPPSCZU4.js";import{a as w,b as O,e as $,f as D}from"./chunk-USLOR4JY.js";import{b as L}from"./chunk-2XGJICP7.js";import"./chunk-U462Y6UM.js";import"./chunk-4QMG3DVJ.js";import{C as d,Db as E,Ea as v,O as f,Ob as j,Pa as b,Qa as S,Sb as x,T as r,Ub as I,Wa as C,Xa as M,Xb as T,Ya as R,Yb as q,Zb as P,e as c,fa as g,j as u,nb as A,ua as h,w as l,yb as y,zb as H}from"./chunk-X2WIBWUX.js";import"./chunk-2NFLSA4Y.js";function J(e){let o=e,t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length,n=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:n===0&&t!==0&&t%1e6===0&&i===0||!(n>=0&&n<=5)?4:5}var F=["pt",[["AM","PM"]],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",J];var a=class e{activeRequests=0;loadingSubject=new c(!1);get loading$(){return this.loadingSubject.asObservable()}show(){this.activeRequests++,this.activeRequests===1&&this.loadingSubject.next(!0)}hide(){this.activeRequests!==0&&(this.activeRequests--,this.activeRequests===0&&this.loadingSubject.next(!1))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=f({token:e,factory:e.\u0275fac,providedIn:"root"})};function G(e,o){e&1&&(C(0,"div",0)(1,"div",1)(2,"span",2),A(3,"Carregando..."),M()()())}var s=class e{isLoading$=r(a).loading$;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-root"]],decls:3,vars:3,consts:[[1,"global-loading-overlay"],["role","status",1,"global-loading-spinner","spinner-border"],[1,"visually-hidden"]],template:function(t,i){t&1&&(R(0,"router-outlet"),b(1,G,4,0,"div",0),y(2,"async")),t&2&&(h(),S(H(2,1,i.isLoading$)?1:-1))},dependencies:[w,j],styles:[".global-loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a59;display:flex;align-items:center;justify-content:center;z-index:1300}.global-loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.25rem;color:#fff}"]})};var B=[{path:"auth",loadChildren:()=>import("./chunk-BT6WWEFW.js").then(e=>e.AUTH_ROUTES)},{path:"",canActivate:[z],loadChildren:()=>import("./chunk-UXOVQB5M.js").then(e=>e.HOME_ROUTES)}];var N=(e,o)=>{let t=r(a);return t.show(),o(e).pipe(d(()=>{t.hide()}))};var U=(e,o)=>{let t=r(D),i=r(O),n=r(L),m=t.getToken();if(e.url.includes("/auth/login")||!m)return o(e);let _=e.clone({setHeaders:{Authorization:`Bearer ${m}`}});return o(_).pipe(l(p=>(p.status===401?(t.logout(),n.error("Sess\xE3o expirada. Fa\xE7a login novamente."),i.navigate(["/auth/login"],{queryParams:{returnUrl:i.url}})):p.status===403&&n.warning("Voc\xEA n\xE3o tem permiss\xE3o para acessar este recurso."),u(()=>p))))};var k={providers:[g(),$(B),T(q([N,U]),P()),{provide:E,useValue:"pt-BR"}]};x(F);I(s,k).catch(e=>console.error(e));
