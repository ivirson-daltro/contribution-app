<mat-sidenav-container class="layout-container">
  <mat-sidenav class="layout-sidenav" mode="side" [opened]="isSidenavOpen">
    <div class="layout-sidenav__header">
      <div class="layout-sidenav__icon">
        <img src="images/logo-app.png" alt="Logo" />
      </div>
      <div class="layout-sidenav__brand">
        <div class="layout-sidenav__title">Contribuições</div>
        <div class="layout-sidenav__subtitle">Gestão Financeira</div>
      </div>
    </div>

    <nav class="layout-sidenav__menu">
      <button
        mat-button
        class="layout-sidenav__item"
        color="primary"
        routerLink="/"
        routerLinkActive="layout-sidenav__item--active"
        [routerLinkActiveOptions]="{ exact: true }"
        (click)="closeSidenavOnMobile()"
      >
        <mat-icon>space_dashboard</mat-icon>
        <span>Dashboard</span>
      </button>
      @if (user?.role === 'ADMIN' || user?.role === 'USER') {
        <button
          mat-button
          class="layout-sidenav__item"
          routerLink="contributions"
          routerLinkActive="layout-sidenav__item--active"
          (click)="closeSidenavOnMobile()"
        >
          <mat-icon>list</mat-icon>
          <span>Contribuições</span>
        </button>
      }

      @if (user?.role === 'ADMIN') {
        <button
          mat-button
          class="layout-sidenav__item"
          routerLink="members"
          routerLinkActive="layout-sidenav__item--active"
          (click)="closeSidenavOnMobile()"
        >
          <mat-icon>people</mat-icon>
          <span>Membros</span>
        </button>
      }

      @if (user?.role === 'ADMIN') {
        <button
          mat-button
          class="layout-sidenav__item"
          routerLink="users"
          routerLinkActive="layout-sidenav__item--active"
          (click)="closeSidenavOnMobile()"
        >
          <mat-icon>person</mat-icon>
          <span>Usuários</span>
        </button>
      }
    </nav>

    <div class="layout-sidenav__footer">
      <div class="user-card">
        <div class="user-card__avatar">{{ user?.name?.charAt(0) }}</div>
        <div class="user-card__info">
          <div class="user-card__name">{{ user?.name }}</div>
          <div class="user-card__email">{{ user?.email }}</div>
          <span class="user-card__role">{{
            user?.role === 'ADMIN' ? 'Administrador' : 'Usuário'
          }}</span>
        </div>
      </div>

      <button mat-button class="layout-sidenav__logout" (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Sair</span>
      </button>
    </div>
  </mat-sidenav>

  <mat-sidenav-content class="layout-content">
    <header class="layout-topbar d-flex justify-content-start align-items-center">
      <button mat-icon-button class="layout-topbar__icon" (click)="toggleSidenav()">
        <img src="icons/left-panel.svg" alt="" />
      </button>
    </header>

    <main class="layout-main">
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
