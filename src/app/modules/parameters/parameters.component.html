<div class="expenses container-fluid py-4">
  <div class="row align-items-center mb-4">
    <div class="col-12 col-lg">
      <h1 class="h4 mb-1 fw-semibold">Parâmetros</h1>
      <p class="text-muted small mb-0">Visualize e gerencie todos os parâmetros do sistema.</p>
    </div>
  </div>

  <div class="parameters-accordion">
    <mat-accordion>
      <!-- Tipos de Membro -->
      @if (
        user?.role === userRoles.ADMIN ||
        user?.role === userRoles.TREASURER ||
        user?.role === userRoles.SECRETARY ||
        user?.role === userRoles.PRESIDENT
      ) {
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Tipos de Membro</mat-panel-title>
          </mat-expansion-panel-header>

          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th class="text-center">Descrição</th>
                <th class="text-center">Ações</th>
              </tr>
            </thead>
            <tbody>
              @if ((memberTypes$ | async)?.length === 0) {
                <tr>
                  <td colspan="6" class="text-center text-muted small py-4">
                    Nenhum tipo de membro encontrado.
                  </td>
                </tr>
              } @else {
                @for (item of memberTypes$ | async; track item.id) {
                  <tr>
                    <td class="text-center">{{ item.description }}</td>
                    <td class="text-center">
                      <button
                        class="rounded-button me-1"
                        aria-label="Editar Tipo de Membro"
                        (click)="openEditMemberType(item)"
                      >
                        <mat-icon fontIcon="edit"></mat-icon>
                      </button>

                      <button
                        class="rounded-button"
                        aria-label="Excluir Tipo de Membro"
                        (click)="openDeleteMemberType(item.id!)"
                      >
                        <mat-icon fontIcon="delete"></mat-icon>
                      </button>
                    </td>
                  </tr>
                }
              }
            </tbody>
          </table>

          <!-- Botão adicionar -->
          <div class="d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-primary submit-button btn-print"
              (click)="openAddMemberType()"
            >
              <mat-icon fontIcon="add" class="submit-icon"></mat-icon> Adicionar Tipo de Membro
            </button>
          </div>
        </mat-expansion-panel>
      }

      <!-- Tipos de Contribuição -->
      @if (
        user?.role === userRoles.ADMIN ||
        user?.role === userRoles.TREASURER ||
        user?.role === userRoles.PRESIDENT
      ) {
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Tipos de Contribuição</mat-panel-title>
          </mat-expansion-panel-header>

          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th class="text-center">Descrição</th>
                <th class="text-center">Ações</th>
              </tr>
            </thead>
            <tbody>
              @if ((contributionTypes$ | async)?.length === 0) {
                <tr>
                  <td colspan="6" class="text-center text-muted small py-4">
                    Nenhum tipo de contribuição encontrado.
                  </td>
                </tr>
              } @else {
                @for (item of contributionTypes$ | async; track item.id) {
                  <tr>
                    <td class="text-center">{{ item.description }}</td>
                    <td class="text-center">
                      <button
                        class="rounded-button me-1"
                        aria-label="Editar Tipo de Contribuição"
                        (click)="openEditContributionType(item)"
                      >
                        <mat-icon fontIcon="edit"></mat-icon>
                      </button>

                      <button
                        class="rounded-button"
                        aria-label="Excluir Tipo de Contribuição"
                        (click)="openDeleteContributionType(item.id!)"
                      >
                        <mat-icon fontIcon="delete"></mat-icon>
                      </button>
                    </td>
                  </tr>
                }
              }
            </tbody>
          </table>

          <div class="d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-primary submit-button btn-print"
              (click)="openAddContributionType()"
            >
              <mat-icon fontIcon="add" class="submit-icon"></mat-icon> Adicionar Tipo de
              Contribuição
            </button>
          </div>
        </mat-expansion-panel>
      }

      <!-- Métodos de Pagamento -->
      @if (
        user?.role === userRoles.ADMIN ||
        user?.role === userRoles.TREASURER ||
        user?.role === userRoles.PRESIDENT
      ) {
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Métodos de Pagamento</mat-panel-title>
          </mat-expansion-panel-header>

          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th class="text-center">Tipo</th>
                <th class="text-center">Descrição</th>
                <th class="text-center">Ações</th>
              </tr>
            </thead>
            <tbody>
              @if ((paymentMethods$ | async)?.length === 0) {
                <tr>
                  <td colspan="6" class="text-center text-muted small py-4">
                    Nenhum método de pagamento encontrado.
                  </td>
                </tr>
              } @else {
                @for (item of paymentMethods$ | async; track item.id) {
                  <tr>
                    <td class="text-center">{{ item.type }}</td>
                    <td class="text-center">{{ item.description }}</td>
                    <td class="text-center">
                      <button
                        class="rounded-button me-1"
                        aria-label="Editar Método de Pagamento"
                        (click)="openEditPaymentMethod(item)"
                      >
                        <mat-icon fontIcon="edit"></mat-icon>
                      </button>

                      <button
                        class="rounded-button"
                        aria-label="Excluir Método de Pagamento"
                        (click)="openDeletePaymentMethod(item.id!)"
                      >
                        <mat-icon fontIcon="delete"></mat-icon>
                      </button>
                    </td>
                  </tr>
                }
              }
            </tbody>
          </table>

          <div class="d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-primary submit-button btn-print"
              (click)="openAddPaymentMethod()"
            >
              <mat-icon fontIcon="add" class="submit-icon"></mat-icon> Adicionar Método de Pagamento
            </button>
          </div>
        </mat-expansion-panel>
      }

      <!-- Categorias de Despesa -->
      @if (
        user?.role === userRoles.ADMIN ||
        user?.role === userRoles.TREASURER ||
        user?.role === userRoles.PRESIDENT
      ) {
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Categorias de Despesa</mat-panel-title>
          </mat-expansion-panel-header>

          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th class="text-center">Descrição</th>
                <th class="text-center">Ações</th>
              </tr>
            </thead>
            <tbody>
              @if ((expenseCategories$ | async)?.length === 0) {
                <tr>
                  <td colspan="6" class="text-center text-muted small py-4">
                    Nenhuma categoria de despesa encontrada.
                  </td>
                </tr>
              } @else {
                @for (item of expenseCategories$ | async; track item.id) {
                  <tr>
                    <td class="text-center">{{ item.description }}</td>
                    <td class="text-center">
                      <button
                        class="rounded-button me-1"
                        aria-label="Editar Categoria de Despesa"
                        (click)="openEditExpenseCategory(item)"
                      >
                        <mat-icon fontIcon="edit"></mat-icon>
                      </button>

                      <button
                        class="rounded-button"
                        aria-label="Excluir Categoria de Despesa"
                        (click)="openDeleteExpenseCategory(item.id!)"
                      >
                        <mat-icon fontIcon="delete"></mat-icon>
                      </button>
                    </td>
                  </tr>
                }
              }
            </tbody>
          </table>

          <div class="d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-primary submit-button btn-print"
              (click)="openAddExpenseCategory()"
            >
              <mat-icon fontIcon="add" class="submit-icon"></mat-icon> Adicionar Categoria de
              Despesa
            </button>
          </div>
        </mat-expansion-panel>
      }
    </mat-accordion>
  </div>
</div>
